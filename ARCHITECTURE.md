# System Architecture & Data Flow Diagrams

## ğŸ—ï¸ Complete System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         USER INTERFACE                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Streamlit Web App (app.py)    â”‚  â”‚  Jupyter Notebook    â”‚ â”‚
â”‚  â”‚                                 â”‚  â”‚  (Learning)          â”‚ â”‚
â”‚  â”‚  â€¢ Index Documents Tab          â”‚  â”‚                      â”‚ â”‚
â”‚  â”‚  â€¢ Search Tab                   â”‚  â”‚  â€¢ Experiments       â”‚ â”‚
â”‚  â”‚  â€¢ Stats Tab                    â”‚  â”‚  â€¢ Visualizations    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â€¢ Hands-on coding   â”‚ â”‚
â”‚                                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SEMANTIC SEARCH ENGINE                       â”‚
â”‚                   (src/search_engine.py)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â€¢ Orchestrates all components                                 â”‚
â”‚  â€¢ Manages indexing pipeline                                   â”‚
â”‚  â€¢ Handles search queries                                      â”‚
â”‚                                                                 â”‚
â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â”‚            â”‚             â”‚             â”‚\n   â–¼            â–¼             â–¼             â–¼\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚Ingestionâ”‚ â”‚ Chunking â”‚ â”‚Embeddingsâ”‚ â”‚Vector Storeâ”‚\nâ”‚(ingest) â”‚ â”‚(chunking)â”‚ â”‚(embeddings)  â”‚(vect_store)\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n## ğŸ“Š Data Flow: Indexing Pipeline\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                    DOCUMENT INDEXING FLOW                        â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n\nSTEP 1: INGESTION\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n  PDF/TXT/MD Files\n         â”‚\n         â”œâ”€ machine_learning_intro.md\n         â”œâ”€ embeddings_guide.md\n         â””â”€ vector_databases.md\n                   â”‚\n                   â–¼\n     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n     â”‚ DocumentIngester         â”‚\n     â”‚ (src/ingestion.py)       â”‚\n     â”‚                          â”‚\n     â”‚ â€¢ Load files             â”‚\n     â”‚ â€¢ Extract text           â”‚\n     â”‚ â€¢ Handle different       â”‚\n     â”‚   formats                â”‚\n     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                  â”‚\n                  â–¼\n     Raw Text + Metadata\n     (filename, page_number)\n\n\nSTEP 2: CHUNKING\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n  \"Machine learning is a subset...\n   At its core, ML is about creating...\n   Supervised learning involves...\" (3000 chars)\n           â”‚\n           â–¼\n  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n  â”‚ FixedSizeChunker             â”‚\n  â”‚ (src/chunking.py)            â”‚\n  â”‚                              â”‚\n  â”‚ chunk_size = 500             â”‚\n  â”‚ overlap = 100                â”‚\n  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n               â”‚\n               â–¼\n  Chunk 1: \"Machine learning is... [500 chars]\"\n  Chunk 2: \"[overlap=100] ...core, ML is about... [500 chars]\"\n  Chunk 3: \"[overlap=100] ...Supervised learning... [500 chars]\"\n  (6 chunks total)\n\n\nSTEP 3: EMBEDDINGS\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n  Chunk 1: \"Machine learning is...\"\n  Chunk 2: \"...core, ML is about...\"\n  Chunk 3: \"...Supervised learning...\"\n           â”‚\n           â–¼\n  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n  â”‚ OllamaEmbeddings            â”‚\n  â”‚ (src/embeddings.py)         â”‚\n  â”‚                             â”‚\n  â”‚ model: nomic-embed-text     â”‚\n  â”‚ (768 dimensions)            â”‚\n  â”‚                             â”‚\n  â”‚ Sends to local Ollama       â”‚\n  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n               â”‚\n               â–¼\n  [0.12, -0.45, 0.78, ..., -0.23]  (768 numbers)\n  [0.14, -0.43, 0.76, ..., -0.21]  (768 numbers)\n  [0.10, -0.48, 0.80, ..., -0.25]  (768 numbers)\n\n\nSTEP 4: VECTOR STORE\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n  Chunks + Embeddings + Metadata\n           â”‚\n           â–¼\n  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n  â”‚ ChromaDB VectorStore           â”‚\n  â”‚ (src/vector_store.py)          â”‚\n  â”‚                                â”‚\n  â”‚ â€¢ Store embeddings             â”‚\n  â”‚ â€¢ Build HNSW index             â”‚\n  â”‚ â€¢ Track metadata               â”‚\n  â”‚ â€¢ Persist to disk              â”‚\n  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n               â”‚\n               â–¼\n  Persistent Storage\n  ./data/chroma_db/\n  â”œâ”€â”€ embeddings (vectors)\n  â”œâ”€â”€ chunks (text)\n  â””â”€â”€ metadata (source, page, etc)\n\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nOUTPUT: Indexed and searchable document collection âœ…\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n```\n\n## ğŸ” Data Flow: Search Pipeline\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                       SEARCH FLOW                                â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n\nSTEP 1: USER QUERY\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n  User enters: \"What are embeddings?\"\n       â”‚\n       â–¼\n  SemanticSearchEngine.search(\"What are embeddings?\")\n\n\nSTEP 2: QUERY EMBEDDING\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n  \"What are embeddings?\"\n           â”‚\n           â–¼\n  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n  â”‚ OllamaEmbeddings.embed()    â”‚\n  â”‚ (src/embeddings.py)         â”‚\n  â”‚                             â”‚\n  â”‚ Sends to Ollama             â”‚\n  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n               â”‚\n               â–¼\n  query_vector = [0.11, -0.42, 0.75, ..., -0.22]\n  (768 dimensions, same space as documents!)\n\n\nSTEP 3: SIMILARITY SEARCH\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n  query_vector\n       â”‚\n       â–¼\n  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n  â”‚ ChromaDB.query()               â”‚\n  â”‚ (src/vector_store.py)          â”‚\n  â”‚                                â”‚\n  â”‚ â€¢ Load HNSW index              â”‚\n  â”‚ â€¢ Find nearest neighbors       â”‚\n  â”‚ â€¢ Return top-k (k=5)           â”‚\n  â”‚                                â”‚\n  â”‚ Algorithm:                     â”‚\n  â”‚  1. Start at layer 0           â”‚\n  â”‚  2. Navigate graph             â”‚\n  â”‚  3. Find ~100 candidates       â”‚\n  â”‚  4. Refine search              â”‚\n  â”‚  5. Return top-5               â”‚\n  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n               â”‚\n               â–¼\n  Candidate chunks ranked by similarity\n\n\nSTEP 4: CALCULATE SIMILARITY\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n  For each candidate chunk:\n\n    chunk_vector = [0.12, -0.45, 0.78, ..., -0.23]\n    query_vector = [0.11, -0.42, 0.75, ..., -0.22]\n                   â”‚\n                   â–¼\n          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n          â”‚ CosineSimilarity()      â”‚\n          â”‚ (src/similarity.py)     â”‚\n          â”‚                         â”‚\n          â”‚ cos(Î¸) = (AÂ·B)/(||A||Â·||B||)\n          â”‚         = 0.9234 âœ…    â”‚\n          â”‚ (High similarity!)      â”‚\n          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                       â”‚\n                       â–¼\n          similarity = 0.9234\n\n\nSTEP 5: RANK AND RETURN\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n  Sorted by similarity (highest first):\n\n  [1] Similarity: 0.9234\n      Source: embeddings_guide.md\n      Text: \"Embeddings are vectors that represent...\"\n\n  [2] Similarity: 0.8756\n      Source: machine_learning_intro.md\n      Text: \"At its core, machine learning is about...\"\n\n  [3] Similarity: 0.7823\n      Source: vector_databases.md\n      Text: \"Embeddings enable fast similarity search...\"\n\n  [4] Similarity: 0.6234\n      Source: embeddings_guide.md\n      Text: \"Word embeddings capture semantic...\"\n\n  [5] Similarity: 0.5123\n      Source: machine_learning_intro.md\n      Text: \"Neural networks learn patterns...\"\n\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nOUTPUT: User sees ranked search results âœ…\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n```\n\n## ğŸ¯ Embedding Space Visualization\n\n```\nHigh-Dimensional Vector Space (768 dimensions)\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                                                                 â”‚\nâ”‚    \"Neural networks\"                                            â”‚\nâ”‚         â€¢                                                       â”‚\nâ”‚        / \\                                                      â”‚\nâ”‚       /   \\                                                     â”‚\nâ”‚      /     â€¢  \"Machine learning\"                               â”‚\nâ”‚     /       \\                                                   â”‚\nâ”‚    /         \\                                                  â”‚\nâ”‚   â€¢â”â”â”â”â”â”â”â”â”â”â”â€¢                                               â”‚\nâ”‚ \"AI\"         /\"Deep learning\"                                  â”‚\nâ”‚            /                                                    â”‚\nâ”‚           /                                                     â”‚\nâ”‚          â€¢  \"Artificial intelligence\"                           â”‚\nâ”‚                                                                 â”‚\nâ”‚                                                                 â”‚\nâ”‚     [Very far away in embedding space]                         â”‚\nâ”‚                                                                 â”‚\nâ”‚     â€¢  \"The weather is sunny\"                                  â”‚\nâ”‚                                                                 â”‚\nâ”‚     â€¢  \"I like cooking\"                                        â”‚\nâ”‚                                                                 â”‚\nâ”‚     â€¢  \"Sports are fun\"                                        â”‚\nâ”‚                                                                 â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n\nKey insight: Similar concepts cluster together!\n- \"Neural networks\", \"Machine learning\", \"Deep learning\" cluster\n- \"Weather\", \"Cooking\", \"Sports\" are far away\n```\n\n## ğŸ”§ Module Dependencies\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚     search_engine.py                â”‚\nâ”‚  (SemanticSearchEngine)             â”‚\nâ”‚     Main Orchestrator               â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n             â”‚              â”‚\n    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”\n    â”‚ingestion  â”‚    â”‚config         â”‚\n    â”‚ Load docs â”‚    â”‚ Settings      â”‚\n    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€-â”˜\n             â”‚\n    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n    â”‚   chunking.py            â”‚\n    â”‚ Split text into pieces   â”‚\n    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n             â”‚\n    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n    â”‚   embeddings.py          â”‚\n    â”‚ Generate via Ollama      â”‚\n    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n             â”‚\n  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n  â”‚ vector_store.py    â”‚\n  â”‚ Store in ChromaDB  â”‚\n  â”‚                    â”‚\n  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n           â”‚\n  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n  â”‚ similarity.py    â”‚\n  â”‚ Calc closeness   â”‚\n  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€-â”˜\n```\n\n## ğŸ“ˆ Performance Characteristics\n\n```\nOperation                  Time        Scale\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nEmbed 1 text               100-500ms   per text\nEmbed 1000 chunks          30-60s      with Ollama\nIndex in ChromaDB          5-10s       1000 chunks\nSingle query               100-500ms   depends on size\nFull pipeline (100 docs)   2-5 min     end-to-end\n\nStorage\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nEmbeddings                 3GB         per 1M vectors\nMetadata                   100MB       per 1M vectors\nTotal index                3.1GB       per 1M vectors\n\nScalability\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nChromaDB on laptop         Up to 1M vectors\nPinecone (cloud)           Unlimited\nHNSW indexing              Sub-linear search\n```\n\n## ğŸ”„ Configuration Impact\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚              Configuration â†’ Impact                      â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚                                                          â”‚\nâ”‚ CHUNK_SIZE â”€â”€â”¬â”€â”€> Smaller (200) â”€â”€> Granular, many    â”‚\nâ”‚              â”‚                       chunks, slower    â”‚\nâ”‚              â””â”€â”€> Larger (1000) â”€â”€> Context, few      â”‚\nâ”‚                                      chunks, faster   â”‚\nâ”‚                                                        â”‚\nâ”‚ OVERLAP â”€â”€â”€â”€â”€â”¬â”€â”€> None (0) â”€â”€â”€â”€â”€â”€> Less storage,      â”‚\nâ”‚              â”‚                       lower recall     â”‚\nâ”‚              â””â”€â”€> High (200) â”€â”€â”€â”€> More storage,      â”‚\nâ”‚                                      better recall   â”‚\nâ”‚                                                        â”‚\nâ”‚ TOP_K â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€> Small (1-3) â”€â”€â”€> Fast, confident   â”‚\nâ”‚              â”‚                       results          â”‚\nâ”‚              â””â”€â”€> Large (20+) â”€â”€â”€â”€> Slow, may have    â”‚\nâ”‚                                      false positives  â”‚\nâ”‚                                                        â”‚\nâ”‚ EMBEDDING â”€â”€â”€â”¬â”€â”€> Ollama (local) â”€> Free, private,   â”‚\nâ”‚ PROVIDER     â”‚                       good quality    â”‚\nâ”‚              â””â”€â”€> OpenAI (API) â”€â”€â”€> Costs money,      â”‚\nâ”‚                                      best quality    â”‚\nâ”‚                                                        â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n## ğŸ¯ Decision Tree: Which Configuration?\n\n```\n                    Your use case?\n                         â”‚\n          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n          â”‚              â”‚              â”‚\n     Research    Production    Learning\n          â”‚              â”‚              â”‚\n          â–¼              â–¼              â–¼\n   Optimize for   Optimize for   Optimize for\n   accuracy     speed+accuracy   understanding\n          â”‚              â”‚              â”‚\n    chunk_size:     chunk_size:    chunk_size:\n    300-500        500-700        500 (default)\n                                 \n    overlap:      overlap:       overlap:\n    150-200       50-100         100\n                                 \n    model:        model:        model:\n    Large         Medium        Small\n    (slower)      (balanced)    (fast)\n```\n"
